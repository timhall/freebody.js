define("utils",[],function(){var e={};return e.radians=function(e){return e*(Math.PI/180)},e.degrees=function(e){return e*(180/Math.PI)},e.hypotenuse=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},e.roundToDec=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},e.roundToPrecision=function(t,n){var r=Math.round(e.log10(1/(n||1)));return e.roundToDec(t,r)},e.log10=function(e){return Math.log(e)/Math.LN10},e.distance=function(t,n){return e.hypotenuse(t.x-n.x,t.y-n.y)},e.angle=function(t,n){return e.degrees(Math.atan2(n.y-t.y,n.x-t.x))},e.isNumber=function(e){return typeof e=="number"||toString.call(e)=="[object Number]"},e.isFunction=function(e){return typeof e=="function"},e.isFunction(/x/)&&(e.isFunction=function(e){return toString.call(e)=="[object Function]"}),e.any=function(e,t){var n,r=-1,i=e.length;while(++r<i)if(n=t(e[r],r,e))break;return!!n},e}),define("Vector",["utils"],function(e){var t=function(e,t){return this._magnitude=e||0,this._angle=t||0,this};t.prototype={magnitude:function(e){return e!==undefined?(this._magnitude=e,this):this._magnitude},angle:function(e){return e!==undefined?(this._angle=e,this):this._angle},x:function(t){return t!==undefined?(n(this,t,this.y()),this):this._magnitude*Math.cos(e.radians(this._angle))},y:function(t){return t!==undefined?(n(this,this.x(),t),this):this._magnitude*Math.sin(e.radians(this._angle))}};var n=function(t,n,r){t._magnitude=e.hypotenuse(n,r),t._angle=e.degrees(Math.atan2(r,n))};return window.Vector=t,t}),define("Body",["Vector","utils"],function(e,t){var n=function(t){return this.mass=t&&t.mass||0,this.x=t&&t.x||0,this.y=t&&t.y||0,this.v=t&&t.v||new e,this.a=t&&t.a||new e,this.forces=[],this.lifetime=0,this};n.options={timestep:8,maxAdvanceTime:3e4},n.prototype.advance=function(e,i){var s=this,o=0,u;i===undefined&&(s.isVariable()&&t.isNumber(e)?i=e/Math.ceil(e/n.options.timestep):i=t.isNumber(e)?e:n.options.timestep);if(i>0){u=r(e);while(!u(s,o)&&o<n.options.maxAdvanceTime)o+=i,s.move(i)}return s},n.prototype.move=function(e){var t=this,n=t.v.x(),r=t.v.y(),i=t.netForce();return t.lifetime+=e,e/=1e3,e>0&&(t.x=t.x+n*e,t.y=t.y+r*e,t.a.x(t.mass>0?i.x()/t.mass:0),t.a.y(t.mass>0?i.y()/t.mass:0),t.v.x(t.v.x()+t.a.x()*e),t.v.y(t.v.y()+t.a.y()*e)),t},n.prototype.isVariable=function(){return!!t.any(this.forces,t.isFunction)},n.prototype.netForce=function(){var n=this,r=0,i=0,s;for(var o=0,u=n.forces.length;o<u;o+=1)s=t.isFunction(n.forces[o])?n.forces[o]():n.forces[o],r+=s.x(),i+=s.y();return(new e).x(r).y(i)};var r=function(e){return function(t,n){return n>=e}};return n}),define("gravity",["Vector","utils"],function(e,t){var n={},r=6.6e-11,i=9.8;return n.simple=function(t,n){var r=(new e).angle(-90);n=n||i;var s=function(){return r.magnitude(n*t.mass),r};t.forces.push(s)},n.planetary=function(n,i,s){var o=r*i.mass,u=new e;s=s||2;var a=function(){return u.magnitude(o/Math.pow(t.distance(n,i),s)*n.mass),u.angle(t.angle(n,i)),u};n.forces.push(a)},n}),require(["utils","Vector","Body","gravity"],function(e,t,n,r){var i={utils:e,Vector:t,Body:n,gravity:r};return i}),define("freebody",function(){});